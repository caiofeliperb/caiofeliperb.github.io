import{S as cn,r as Pn,c as Fn,i as J,a as ln,b as fn,d as zn,e as B,f as Rn,g as b,j as f,u as $n}from"./index-DQoUwLLM.js";function L(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Cn(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function bn(n){let t,r,e;n.length!==2?(t=L,r=(i,s)=>L(n(i),s),e=(i,s)=>n(i)-s):(t=n===L||n===Cn?n:Tn,r=n,e=n);function a(i,s,c=0,h=i.length){if(c<h){if(t(s,s)!==0)return h;do{const d=c+h>>>1;r(i[d],s)<0?c=d+1:h=d}while(c<h)}return c}function o(i,s,c=0,h=i.length){if(c<h){if(t(s,s)!==0)return h;do{const d=c+h>>>1;r(i[d],s)<=0?c=d+1:h=d}while(c<h)}return c}function u(i,s,c=0,h=i.length){const d=a(i,s,c,h-1);return d>c&&e(i[d-1],s)>-e(i[d],s)?d-1:d}return{left:a,center:u,right:o}}function Tn(){return 0}function qn(n){return n===null?NaN:+n}const On=bn(L),Dn=On.right;bn(qn).center;class K extends Map{constructor(t,r=Vn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[e,a]of t)this.set(e,a)}get(t){return super.get(dn(this,t))}has(t){return super.has(dn(this,t))}set(t,r){return super.set(In(this,t),r)}delete(t){return super.delete(Bn(this,t))}}function dn({_intern:n,_key:t},r){const e=t(r);return n.has(e)?n.get(e):r}function In({_intern:n,_key:t},r){const e=t(r);return n.has(e)?n.get(e):(n.set(e,r),r)}function Bn({_intern:n,_key:t},r){const e=t(r);return n.has(e)&&(r=n.get(e),n.delete(e)),r}function Vn(n){return n!==null&&typeof n=="object"?n.valueOf():n}function Ln(n){return n}function hn(n,t,...r){return Hn(n,Ln,t,r)}function Hn(n,t,r,e){return(function a(o,u){if(u>=e.length)return r(o);const i=new K,s=e[u++];let c=-1;for(const h of o){const d=s(h,++c,o),l=i.get(d);l?l.push(h):i.set(d,[h])}for(const[h,d]of i)i.set(h,a(d,u));return t(i)})(n,0)}const Un=Math.sqrt(50),Gn=Math.sqrt(10),Qn=Math.sqrt(2);function H(n,t,r){const e=(t-n)/Math.max(0,r),a=Math.floor(Math.log10(e)),o=e/Math.pow(10,a),u=o>=Un?10:o>=Gn?5:o>=Qn?2:1;let i,s,c;return a<0?(c=Math.pow(10,-a)/u,i=Math.round(n*c),s=Math.round(t*c),i/c<n&&++i,s/c>t&&--s,c=-c):(c=Math.pow(10,a)*u,i=Math.round(n/c),s=Math.round(t/c),i*c<n&&++i,s*c>t&&--s),s<i&&.5<=r&&r<2?H(n,t,r*2):[i,s,c]}function Yn(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const e=t<n,[a,o,u]=e?H(t,n,r):H(n,t,r);if(!(o>=a))return[];const i=o-a+1,s=new Array(i);if(e)if(u<0)for(let c=0;c<i;++c)s[c]=(o-c)/-u;else for(let c=0;c<i;++c)s[c]=(o-c)*u;else if(u<0)for(let c=0;c<i;++c)s[c]=(a+c)/-u;else for(let c=0;c<i;++c)s[c]=(a+c)*u;return s}function W(n,t,r){return t=+t,n=+n,r=+r,H(n,t,r)[2]}function Xn(n,t,r){t=+t,n=+n,r=+r;const e=t<n,a=e?W(t,n,r):W(n,t,r);return(e?-1:1)*(a<0?1/-a:a)}function mn(n,t){let r;if(t===void 0)for(const e of n)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let a of n)(a=t(a,++e,n))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function Jn(n,t,r){n=+n,t=+t,r=(a=arguments.length)<2?(t=n,n=0,1):a<3?1:+r;for(var e=-1,a=Math.max(0,Math.ceil((t-n)/r))|0,o=new Array(a);++e<a;)o[e]=n+e*r;return o}function Kn(n){return n}var Y=1,X=2,Z=3,q=4,gn=1e-6;function Wn(n){return"translate("+n+",0)"}function Zn(n){return"translate(0,"+n+")"}function nt(n){return t=>+n(t)}function tt(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),r=>+n(r)+t}function et(){return!this.__axis}function wn(n,t){var r=[],e=null,a=null,o=6,u=6,i=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=n===Y||n===q?-1:1,h=n===q||n===X?"x":"y",d=n===Y||n===Z?Wn:Zn;function l(m){var p=e??(t.ticks?t.ticks.apply(t,r):t.domain()),y=a??(t.tickFormat?t.tickFormat.apply(t,r):Kn),j=Math.max(o,0)+i,w=t.range(),_=+w[0]+s,S=+w[w.length-1]+s,M=(t.bandwidth?tt:nt)(t.copy(),s),E=m.selection?m.selection():m,x=E.selectAll(".domain").data([null]),N=E.selectAll(".tick").data(p,t).order(),T=N.exit(),F=N.enter().append("g").attr("class","tick"),z=N.select("line"),P=N.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(F),z=z.merge(F.append("line").attr("stroke","currentColor").attr(h+"2",c*o)),P=P.merge(F.append("text").attr("fill","currentColor").attr(h,c*j).attr("dy",n===Y?"0em":n===Z?"0.71em":"0.32em")),m!==E&&(x=x.transition(m),N=N.transition(m),z=z.transition(m),P=P.transition(m),T=T.transition(m).attr("opacity",gn).attr("transform",function(g){return isFinite(g=M(g))?d(g+s):this.getAttribute("transform")}),F.attr("opacity",gn).attr("transform",function(g){var v=this.parentNode.__axis;return d((v&&isFinite(v=v(g))?v:M(g))+s)})),T.remove(),x.attr("d",n===q||n===X?u?"M"+c*u+","+_+"H"+s+"V"+S+"H"+c*u:"M"+s+","+_+"V"+S:u?"M"+_+","+c*u+"V"+s+"H"+S+"V"+c*u:"M"+_+","+s+"H"+S),N.attr("opacity",1).attr("transform",function(g){return d(M(g)+s)}),z.attr(h+"2",c*o),P.attr(h,c*j).text(y),E.filter(et).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===X?"start":n===q?"end":"middle"),E.each(function(){this.__axis=M})}return l.scale=function(m){return arguments.length?(t=m,l):t},l.ticks=function(){return r=Array.from(arguments),l},l.tickArguments=function(m){return arguments.length?(r=m==null?[]:Array.from(m),l):r.slice()},l.tickValues=function(m){return arguments.length?(e=m==null?null:Array.from(m),l):e&&e.slice()},l.tickFormat=function(m){return arguments.length?(a=m,l):a},l.tickSize=function(m){return arguments.length?(o=u=+m,l):o},l.tickSizeInner=function(m){return arguments.length?(o=+m,l):o},l.tickSizeOuter=function(m){return arguments.length?(u=+m,l):u},l.tickPadding=function(m){return arguments.length?(i=+m,l):i},l.offset=function(m){return arguments.length?(s=+m,l):s},l}function rt(n){return wn(Z,n)}function at(n){return wn(q,n)}function pn(n){return typeof n=="string"?new cn([[document.querySelector(n)]],[document.documentElement]):new cn([[n]],Pn)}function it(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),a;return function(o){for(a=0;a<r;++a)e[a]=n[a]*(1-o)+t[a]*o;return e}}function ot(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function st(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,a=new Array(e),o=new Array(r),u;for(u=0;u<e;++u)a[u]=rn(n[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(i){for(u=0;u<e;++u)o[u]=a[u](i);return o}}function ut(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function ct(n,t){var r={},e={},a;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in n?r[a]=rn(n[a],t[a]):e[a]=t[a];return function(o){for(a in r)e[a]=r[a](o);return e}}function rn(n,t){var r=typeof t,e;return t==null||r==="boolean"?Fn(t):(r==="number"?J:r==="string"?(e=ln(t))?(t=e,fn):zn:t instanceof ln?fn:t instanceof Date?ut:ot(t)?it:Array.isArray(t)?st:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ct:J)(n,t)}function lt(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function ft(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function U(n,t){if(!isFinite(n)||n===0)return null;var r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"),e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function C(n){return n=U(Math.abs(n)),n?n[1]:NaN}function dt(n,t){return function(r,e){for(var a=r.length,o=[],u=0,i=n[0],s=0;a>0&&i>0&&(s+i+1>e&&(i=Math.max(1,e-s)),o.push(r.substring(a-=i,a+i)),!((s+=i+1)>e));)i=n[u=(u+1)%n.length];return o.reverse().join(t)}}function ht(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var mt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function G(n){if(!(t=mt.exec(n)))throw new Error("invalid format: "+n);var t;return new an({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}G.prototype=an.prototype;function an(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}an.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gt(n){n:for(var t=n.length,r=1,e=-1,a;r<t;++r)switch(n[r]){case".":e=a=r;break;case"0":e===0&&(e=r),a=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(a+1):n}var Q;function pt(n,t){var r=U(n,t);if(!r)return Q=void 0,n.toPrecision(t);var e=r[0],a=r[1],o=a-(Q=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=e.length;return o===u?e:o>u?e+new Array(o-u+1).join("0"):o>0?e.slice(0,o)+"."+e.slice(o):"0."+new Array(1-o).join("0")+U(n,Math.max(0,t+o-1))[0]}function xn(n,t){var r=U(n,t);if(!r)return n+"";var e=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+e:e.length>a+1?e.slice(0,a+1)+"."+e.slice(a+1):e+new Array(a-e.length+2).join("0")}const yn={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:ft,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>xn(n*100,t),r:xn,s:pt,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Mn(n){return n}var vn=Array.prototype.map,kn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xt(n){var t=n.grouping===void 0||n.thousands===void 0?Mn:dt(vn.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",a=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?Mn:ht(vn.call(n.numerals,String)),u=n.percent===void 0?"%":n.percent+"",i=n.minus===void 0?"−":n.minus+"",s=n.nan===void 0?"NaN":n.nan+"";function c(d,l){d=G(d);var m=d.fill,p=d.align,y=d.sign,j=d.symbol,w=d.zero,_=d.width,S=d.comma,M=d.precision,E=d.trim,x=d.type;x==="n"?(S=!0,x="g"):yn[x]||(M===void 0&&(M=12),E=!0,x="g"),(w||m==="0"&&p==="=")&&(w=!0,m="0",p="=");var N=(l&&l.prefix!==void 0?l.prefix:"")+(j==="$"?r:j==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():""),T=(j==="$"?e:/[%p]/.test(x)?u:"")+(l&&l.suffix!==void 0?l.suffix:""),F=yn[x],z=/[defgprs%]/.test(x);M=M===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function P(g){var v=N,k=T,R,un,O;if(x==="c")k=F(g)+k,g="";else{g=+g;var D=g<0||1/g<0;if(g=isNaN(g)?s:F(Math.abs(g),M),E&&(g=gt(g)),D&&+g==0&&y!=="+"&&(D=!1),v=(D?y==="("?y:i:y==="-"||y==="("?"":y)+v,k=(x==="s"&&!isNaN(g)&&Q!==void 0?kn[8+Q/3]:"")+k+(D&&y==="("?")":""),z){for(R=-1,un=g.length;++R<un;)if(O=g.charCodeAt(R),48>O||O>57){k=(O===46?a+g.slice(R+1):g.slice(R))+k,g=g.slice(0,R);break}}}S&&!w&&(g=t(g,1/0));var I=v.length+g.length+k.length,A=I<_?new Array(_-I+1).join(m):"";switch(S&&w&&(g=t(A+g,A.length?_-k.length:1/0),A=""),p){case"<":g=v+g+k+A;break;case"=":g=v+A+g+k;break;case"^":g=A.slice(0,I=A.length>>1)+v+g+k+A.slice(I);break;default:g=A+v+g+k;break}return o(g)}return P.toString=function(){return d+""},P}function h(d,l){var m=Math.max(-8,Math.min(8,Math.floor(C(l)/3)))*3,p=Math.pow(10,-m),y=c((d=G(d),d.type="f",d),{suffix:kn[8+m/3]});return function(j){return y(p*j)}}return{format:c,formatPrefix:h}}var V,An,_n;yt({thousands:",",grouping:[3],currency:["$",""]});function yt(n){return V=xt(n),An=V.format,_n=V.formatPrefix,V}function Mt(n){return Math.max(0,-C(Math.abs(n)))}function vt(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(C(t)/3)))*3-C(Math.abs(n)))}function kt(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,C(t)-C(n))+1}function on(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}const jn=Symbol("implicit");function sn(){var n=new K,t=[],r=[],e=jn;function a(o){let u=n.get(o);if(u===void 0){if(e!==jn)return e;n.set(o,u=t.push(o)-1)}return r[u%r.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],n=new K;for(const u of o)n.has(u)||n.set(u,t.push(u)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(e=o,a):e},a.copy=function(){return sn(t,r).unknown(e)},on.apply(a,arguments),a}function Sn(){var n=sn().unknown(void 0),t=n.domain,r=n.range,e=0,a=1,o,u,i=!1,s=0,c=0,h=.5;delete n.unknown;function d(){var l=t().length,m=a<e,p=m?a:e,y=m?e:a;o=(y-p)/Math.max(1,l-s+c*2),i&&(o=Math.floor(o)),p+=(y-p-o*(l-s))*h,u=o*(1-s),i&&(p=Math.round(p),u=Math.round(u));var j=Jn(l).map(function(w){return p+o*w});return r(m?j.reverse():j)}return n.domain=function(l){return arguments.length?(t(l),d()):t()},n.range=function(l){return arguments.length?([e,a]=l,e=+e,a=+a,d()):[e,a]},n.rangeRound=function(l){return[e,a]=l,e=+e,a=+a,i=!0,d()},n.bandwidth=function(){return u},n.step=function(){return o},n.round=function(l){return arguments.length?(i=!!l,d()):i},n.padding=function(l){return arguments.length?(s=Math.min(1,c=+l),d()):s},n.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),d()):s},n.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},n.align=function(l){return arguments.length?(h=Math.max(0,Math.min(1,l)),d()):h},n.copy=function(){return Sn(t(),[e,a]).round(i).paddingInner(s).paddingOuter(c).align(h)},on.apply(d(),arguments)}function jt(n){return function(){return n}}function Nt(n){return+n}var Nn=[0,1];function $(n){return n}function nn(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:jt(isNaN(t)?NaN:.5)}function bt(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function wt(n,t,r){var e=n[0],a=n[1],o=t[0],u=t[1];return a<e?(e=nn(a,e),o=r(u,o)):(e=nn(e,a),o=r(o,u)),function(i){return o(e(i))}}function At(n,t,r){var e=Math.min(n.length,t.length)-1,a=new Array(e),o=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)a[u]=nn(n[u],n[u+1]),o[u]=r(t[u],t[u+1]);return function(i){var s=Dn(n,i,1,e)-1;return o[s](a[s](i))}}function _t(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function St(){var n=Nn,t=Nn,r=rn,e,a,o,u=$,i,s,c;function h(){var l=Math.min(n.length,t.length);return u!==$&&(u=bt(n[0],n[l-1])),i=l>2?At:wt,s=c=null,d}function d(l){return l==null||isNaN(l=+l)?o:(s||(s=i(n.map(e),t,r)))(e(u(l)))}return d.invert=function(l){return u(a((c||(c=i(t,n.map(e),J)))(l)))},d.domain=function(l){return arguments.length?(n=Array.from(l,Nt),h()):n.slice()},d.range=function(l){return arguments.length?(t=Array.from(l),h()):t.slice()},d.rangeRound=function(l){return t=Array.from(l),r=lt,h()},d.clamp=function(l){return arguments.length?(u=l?!0:$,h()):u!==$},d.interpolate=function(l){return arguments.length?(r=l,h()):r},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,m){return e=l,a=m,h()}}function Et(){return St()($,$)}function Pt(n,t,r,e){var a=Xn(n,t,r),o;switch(e=G(e??",f"),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(o=vt(a,u))&&(e.precision=o),_n(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(o=kt(a,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=o-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(o=Mt(a))&&(e.precision=o-(e.type==="%")*2);break}}return An(e)}function Ft(n){var t=n.domain;return n.ticks=function(r){var e=t();return Yn(e[0],e[e.length-1],r??10)},n.tickFormat=function(r,e){var a=t();return Pt(a[0],a[a.length-1],r??10,e)},n.nice=function(r){r==null&&(r=10);var e=t(),a=0,o=e.length-1,u=e[a],i=e[o],s,c,h=10;for(i<u&&(c=u,u=i,i=c,c=a,a=o,o=c);h-- >0;){if(c=W(u,i,r),c===s)return e[a]=u,e[o]=i,t(e);if(c>0)u=Math.floor(u/c)*c,i=Math.ceil(i/c)*c;else if(c<0)u=Math.ceil(u*c)/c,i=Math.floor(i*c)/c;else break;s=c}return n},n}function En(){var n=Et();return n.copy=function(){return _t(n,En())},on.apply(n,arguments),Ft(n)}function tn(n,t){if((u=n.length)>1)for(var r=1,e,a,o=n[t[0]],u,i=o.length;r<u;++r)for(a=o,o=n[t[r]],e=0;e<i;++e)o[e][1]+=o[e][0]=isNaN(a[e][1])?a[e][0]:a[e][1]}function en(n){for(var t=n.length,r=new Array(t);--t>=0;)r[t]=t;return r}function zt(n,t){return n[t]}function Rt(n){const t=[];return t.key=n,t}function $t(){var n=B([]),t=en,r=tn,e=zt;function a(o){var u=Array.from(n.apply(this,arguments),Rt),i,s=u.length,c=-1,h;for(const d of o)for(i=0,++c;i<s;++i)(u[i][c]=[0,+e(d,u[i].key,c,o)]).data=d;for(i=0,h=Rn(t(u));i<s;++i)u[h[i]].index=i;return r(u,h),u}return a.keys=function(o){return arguments.length?(n=typeof o=="function"?o:B(Array.from(o)),a):n},a.value=function(o){return arguments.length?(e=typeof o=="function"?o:B(+o),a):e},a.order=function(o){return arguments.length?(t=o==null?en:typeof o=="function"?o:B(Array.from(o)),a):t},a.offset=function(o){return arguments.length?(r=o??tn,a):r},a}const Ct=({data:n,totalData:t})=>{const r=b.useMemo(()=>{const e=n.length===t.length,a=e?468:n.length;let o=n.reduce((i,s)=>s.uf_atuacao_cfm&&s.uf_atuacao_cfm!=="N/A"?i+s.uf_atuacao_cfm.split("/").length:i,0);e&&(o=544);let u=n.filter(i=>i.tem_rqe).length;return e&&(u=250),[{label:"Total Formados",value:a},{label:"CRMs Ativos",value:o},{label:"Com RQE",value:u}]},[n]);return f.jsx("div",{className:"kpi-row",children:r.map((e,a)=>f.jsxs("div",{className:"kpi-card glass-panel",children:[f.jsx("span",{className:"kpi-value",children:e.value}),f.jsx("span",{className:"kpi-label",children:e.label})]},a))})},Tt=({data:n})=>{const t=b.useMemo(()=>{const o={};return n.forEach(u=>{u.uf_atuacao_cfm&&u.uf_atuacao_cfm!=="N/A"&&u.uf_atuacao_cfm.split("/").map(s=>s.trim()).forEach(s=>{o[s]=(o[s]||0)+1})}),o},[n]),r=Math.max(1,...Object.values(t)),e=o=>{const u=t[o]||0;if(u===0)return{backgroundColor:"var(--bg-surface)",color:"transparent",border:"1px solid rgba(255,255,255,0.05)"};const i=Math.max(.2,u/r);return{backgroundColor:`rgba(14, 165, 233, ${i})`,color:i>.5?"#fff":"rgba(255,255,255,0.7)",border:"1px solid rgba(14, 165, 233, 0.5)",cursor:"pointer"}},a=[["RR","AP","","",""],["AM","PA","MA","CE","RN"],["AC","RO","MT","TO","PI","PB"],["","","MS","GO","BA","PE"],["","","PR","SP","MG","AL"],["","","SC","RJ","ES","SE"],["","","RS","","",""]];return f.jsxs("div",{className:"heatmap-container",children:[f.jsx("h3",{className:"card-title",children:"Volume por Estado (Heatmap)"}),f.jsx("div",{className:"heatmap-grid",children:a.map((o,u)=>f.jsx("div",{className:"heatmap-row",children:o.map((i,s)=>f.jsx("div",{className:`heatmap-cell ${i?"":"empty-cell"}`,style:i?e(i):{},title:i?`${i}: ${t[i]||0} médicos`:"",children:i},`${u}-${s}`))},u))})]})},qt=({data:n})=>{const t=b.useRef(null),r=b.useMemo(()=>{const e=hn(n.filter(i=>!!i.ano_formatura&&i.grande_area_rqe&&i.grande_area_rqe!=="N/A"),i=>hn(i,s=>s.length,s=>s.grande_area_rqe),i=>i.ano_formatura),a=new Set;n.forEach(i=>{i.grande_area_rqe&&i.grande_area_rqe!=="N/A"&&a.add(i.grande_area_rqe)});const o=Array.from(a);return{parsedObj:Array.from(e,([i,s])=>{const c={year:String(i)};return o.forEach(h=>c[h]=s.get(h)||0),c}).sort((i,s)=>parseInt(i.year)-parseInt(s.year)),keys:o}},[n]);return b.useEffect(()=>{if(!r.parsedObj.length||!t.current)return;const{parsedObj:e,keys:a}=r,o=pn(t.current);o.selectAll("*").remove();const u=t.current.parentElement.clientWidth,i=300,s={top:20,right:30,bottom:40,left:40};o.attr("viewBox",[0,0,u,i]);const h=$t().keys(a).order(en).offset(tn)(e),d=Sn().domain(e.map(p=>p.year)).range([s.left,u-s.right]).padding(.2),l=En().domain([0,mn(h,p=>mn(p,y=>y[1]))]).nice().range([i-s.bottom,s.top]),m=sn().domain(a).range(["#0EA5E9","#38BDF8","#F59E0B","#10B981","#8B5CF6","#64748B"]);o.append("g").selectAll("g").data(h).join("g").attr("fill",p=>m(p.key)).selectAll("rect").data(p=>p).join("rect").attr("x",p=>d(p.data.year)).attr("y",p=>l(p[1])).attr("height",p=>l(p[0])-l(p[1])).attr("width",d.bandwidth()).append("title").text(function(){const p=pn(this.parentNode).datum(),y=this.__data__[1]-this.__data__[0];return`${p.key}: ${y}`}),o.append("g").attr("transform",`translate(0,${i-s.bottom})`).call(rt(d).tickSizeOuter(0)).attr("color","var(--text-muted)"),o.append("g").attr("transform",`translate(${s.left},0)`).call(at(l).ticks(5)).attr("color","var(--text-muted)")},[r]),f.jsxs("div",{className:"bar-chart-container",style:{width:"100%",height:"100%"},children:[f.jsx("h3",{className:"card-title",children:"Evolução por Área (RQE)"}),r.parsedObj.length>0?f.jsx("svg",{ref:t,style:{width:"100%",height:"300px"}}):f.jsx("div",{className:"text-muted",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"300px"},children:"Sem dados suficientes para exibir o gráfico."})]})},Ot=({data:n})=>{const[t,r]=b.useState(0),e=5,a=b.useMemo(()=>n.filter(i=>i.faz_acao_social&&i.descricao_acao_social&&i.descricao_acao_social!=="N/A"),[n]),o=Math.ceil(a.length/e),u=a.slice(t*e,(t+1)*e);return f.jsxs("div",{className:"table-container",children:[f.jsx("h3",{className:"card-title",children:"Detalhamento de Impacto Social"}),a.length>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"table-wrapper",children:f.jsxs("table",{className:"social-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Eixo de Ação Social"}),f.jsx("th",{children:"Descrição"}),f.jsx("th",{children:"Ano Form."})]})}),f.jsx("tbody",{children:u.map((i,s)=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("span",{className:"badge",children:i.eixo_acao_social})}),f.jsx("td",{className:"description-cell",children:i.descricao_acao_social}),f.jsx("td",{children:i.ano_formatura})]},s))})]})}),f.jsxs("div",{className:"pagination",children:[f.jsx("button",{disabled:t===0,onClick:()=>r(i=>Math.max(0,i-1)),children:"Anterior"}),f.jsxs("span",{className:"text-muted",children:["Página ",t+1," de ",Math.max(1,o)]}),f.jsx("button",{disabled:t>=o-1,onClick:()=>r(i=>Math.min(o-1,i+1)),children:"Próxima"})]})]}):f.jsx("p",{className:"text-muted",children:"Nenhum impacto social registrado para o filtro atual."})]})},It=()=>{const{data:n,loading:t}=$n(),[r,e]=b.useState({ano:"Todos",uf:"Todos",rqe:"Todos",social:"Todos"}),a=b.useMemo(()=>n.length?["Todos",...Array.from(new Set(n.map(s=>s.ano_formatura))).filter(Boolean).sort((s,c)=>c-s)]:[],[n]),o=b.useMemo(()=>{if(!n.length)return[];const s=new Set;return n.forEach(c=>{c.uf_atuacao_cfm&&c.uf_atuacao_cfm!=="N/A"&&c.uf_atuacao_cfm.split("/").forEach(h=>s.add(h.trim()))}),["Todos",...Array.from(s).sort()]},[n]),u=b.useMemo(()=>n.filter(s=>{const c=r.uf==="Todos"||s.uf_atuacao_cfm&&s.uf_atuacao_cfm.includes(r.uf),h=r.ano==="Todos"||s.ano_formatura===Number(r.ano);let d=!0;r.rqe==="Sim"&&(d=s.tem_rqe===!0),r.rqe==="Não"&&(d=s.tem_rqe===!1);let l=!0;return r.social==="Sim"&&(l=s.faz_acao_social===!0),r.social==="Não"&&(l=s.faz_acao_social===!1),c&&h&&d&&l}),[n,r]),i=(s,c)=>{e(h=>({...h,[s]:c}))};return t?f.jsx("div",{className:"dashboard-loading",children:"Carregando painel de dados..."}):f.jsxs("section",{className:"dashboard-section container",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{children:"A Base de Dados: Explore Nossa Trajetória"}),f.jsx("p",{className:"section-subtitle text-muted",children:"Utilize os filtros abaixo para cruzar especialidades, anos de formatura e áreas de atuação. Descubra os detalhes do nosso impacto."})]}),f.jsxs("div",{className:"dashboard-layout",children:[f.jsxs("aside",{className:"dashboard-sidebar glass-panel",children:[f.jsx("h3",{className:"sidebar-title",children:"Filtros Avançados"}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"Ano de Formatura"}),f.jsx("select",{value:r.ano,onChange:s=>i("ano",s.target.value),children:a.map(s=>f.jsx("option",{value:s,children:s},s))})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"UF de Atuação"}),f.jsx("select",{value:r.uf,onChange:s=>i("uf",s.target.value),children:o.map(s=>f.jsx("option",{value:s,children:s},s))})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"Possui RQE?"}),f.jsxs("select",{value:r.rqe,onChange:s=>i("rqe",s.target.value),children:[f.jsx("option",{value:"Todos",children:"Todos"}),f.jsx("option",{value:"Sim",children:"Sim"}),f.jsx("option",{value:"Não",children:"Não"})]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"Faz Ação Social?"}),f.jsxs("select",{value:r.social,onChange:s=>i("social",s.target.value),children:[f.jsx("option",{value:"Todos",children:"Todos"}),f.jsx("option",{value:"Sim",children:"Sim"}),f.jsx("option",{value:"Não",children:"Não"})]})]}),f.jsxs("div",{className:"filter-summary",children:["Mostrando ",f.jsx("strong",{children:u.length})," egressos"]})]}),f.jsxs("div",{className:"dashboard-main",children:[f.jsx(Ct,{data:u,totalData:n}),f.jsxs("div",{className:"dashboard-charts-row",children:[f.jsx("div",{className:"dashboard-card glass-panel flex-1",children:f.jsx(Tt,{data:u})}),f.jsx("div",{className:"dashboard-card glass-panel flex-2",children:f.jsx(qt,{data:u})})]}),f.jsx("div",{className:"dashboard-card glass-panel w-full",children:f.jsx(Ot,{data:u})})]})]})]})};export{It as default};
